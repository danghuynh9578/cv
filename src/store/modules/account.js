const state = () => ({
    userCards: [],
    userCards2: [],
    account : [
    {
        'email': 'taliyahholland4620@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'taliyahholland46'
    },
    {
        'email': 'rowangilmore9452@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'rowangilmore'
    },
    {
        'email': 'victorklein4788@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'victorklein4788'
    },
    {
        'email': 'lucaclairexhiw@gmail.com',
        'pass': '80@Minhkhai',
        'ingameName': 'lucaclairex'
    },
    {
        'email': 'lelandnorton6075@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'lelandnorton6075'
    },
    {
        'email': 'jamisongould4497@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'jamisongould4497'
    },
    {
        'email': 'suttonliamziga@gmail.com',
        'pass': '80@Minhkhai',
        'ingameName': 'byneg'
    },
    {
        'email': 'zaneclayton8992@gmail.com',
        'pass': '80@Minhkhai',
        'ingameName': 'zaneclayton8'
    },
    {
        'email': 'zaireabdullah265@gmail.com',
        'pass': '80@Minhkhai',
        'ingameName': 'zaireabdulla'
    },
    {
        'email': 'jakehebert6930@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'jakehebert6930'
    },
    {
        'email': 'alenaashley7702@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'alenaashley7702'
    },
    {
        'email': 'darrylkeith6265@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'darrylkeith6265'
    },
    {
        'email': 'axelrice2220@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'axelrice2220'
    },
    {
        'email': 'ericwilliamson9282@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'ericwilmson9282'
    },
    {
        'email': 'genevievenelson7389@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'genevievenel7389'
    },
    {
        'email': 'marelifarrell8962@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'marelifarrell8'
    },
    {
        'email': 'johnathonharrington6308@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'johnathonharr'
    },
    {
        'email': 'katieesparza3555@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'katieesparza3555'
    },
    {
        'email': 'giovannisimon8839@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'giovanon8839'
    },
    {
        'email': 'adalynnhester4654@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'adalynter4654'
    },
    {
        'email': 'kadehayes4297@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'kadehayes4297'
    },
    {
        'email': 'simeoncross9322@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'simeoncross9322'
    },
    {
        'email': 'lilyanadawson5947@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'lilyana947'
    },
    {
        'email': 'lindacisneros6925@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'lindacisneros6'
    },
    {
        'email': 'madalynnmartin8535@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'madalynnma'
    },
    {
        'email': 'gunnerdavidson8368@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'gunnerdaon8368'
    },
    {
        'email': 'caraspears6851@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'caraspears6851'
    },
    {
        'email': 'kenyonbush6145@egg-mail.co',
        'pass': 'egg-mail.co@!012!@',
        'ingameName': 'kenyonbush6145'
    },
    {
        'email': 'jaylandavis7804@z-mail.vip',
        'pass': 'z-mail.vip@!012!@',
        'ingameName': 'jaylandavis7804'
    },
    {
        'email': 'thaliahadleydk12@gmail.com',
        'pass': '80@Minhkhai',
        'ingameName': 'ncovt4'
    }
    ],
    account2 : [
        {
            'email': 'SONVNN1@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn1'
        },
        {
            'email': 'SONVNN2@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn2'
        },
        {
            'email': 'SONVNN3@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn3'
        },
        {
            'email': 'SONVNN4@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn4'
        },
        {
            'email': 'SONVNN5@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn5'
        },
        {
            'email': 'SONVNN6@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn6'
        },
        {
            'email': 'SONVNN7@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn7'
        },
        {
            'email': 'SONVNN8@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn8'
        },
        {
            'email': 'SONVNN9@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn9'
        },
        {
            'email': 'SONVNN10@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn10'
        },
        {
            'email': 'SONVNN11@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn11'
        },
        {
            'email': 'SONVNN12@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn12'
        },
        {
            'email': 'SONVNN13@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn13'
        },
        {
            'email': 'SONVNN14@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn14'
        },
        {
            'email': 'SONVNN15@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn15'
        },
        {
            'email': 'SONVNN16@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn16'
        },
        {
            'email': 'SONVNN17@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn17'
        },
        {
            'email': 'SONVNN18@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn18'
        },
        {
            'email': 'SONVNN19@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn19'
        },
        {
            'email': 'SONVNN20@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn20'
        },
        {
            'email': 'SONVNN21@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn21'
        },
        {
            'email': 'SONVNN22@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn22'
        },
        {
            'email': 'SONVNN23@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn23'
        },
        {
            'email': 'SONVNN24@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn24'
        },
        {
            'email': 'SONVNN25@HASPLINTER.XYZ',
            'pass': '80@Minhkhai',
            'ingameName': 'sonvnn25'
        }
    ]
})
  import axios from 'axios';
  // getters
  const getters = {
    user: (state) => {
      return state.user
    },
    userCard: (state) => {
        return state.userCards
    },
    userCard2: (state) => {
        return state.userCards2
    }
  }
  
  // actions
  const actions = {
      async getAllUser({ state, commit }) {
          let lengthAcc = state.account.length
          for(let i = 0; i<= lengthAcc ;i++) {
            let fetchCard = await axios.get(`https://api2.splinterlands.com/market/rental_history?player=` + state.account[i].ingameName)
            let decEcr = await axios.get(`https://api2.splinterlands.com/players/balances?username=` + state.account[i].ingameName)
            let countCard = await axios.get(`https://api2.splinterlands.com/cards/collection/` + state.account[i].ingameName)
            var card
            var power
            var dec
            var ecr
            var count
            if(fetchCard.status == 200) {
                if(fetchCard.data.length > 0) {
                    card = fetchCard.data.find((value) => {
                        return value.status == 1
                    })
                    if(card == undefined) {
                        card = []
                    }
                } else {
                    card = []
                }
            }
            if(decEcr.status == 200) {
                dec = decEcr.data[0].balance
                ecr = decEcr.data[5].balance
            }
            if(countCard.status == 200) {
                count = countCard.data.cards.length
            }
            commit('SETCARDUSER', {
                ingame: state.account[i],
                card: card,
                dec:dec,
                power:power,
                ecr:ecr,
                count:count
            })
          }
    },
    async getAllUser2({ state, commit }) {
        let lengthAcc = state.account2.length
        for(let i = 0; i<= lengthAcc ;i++) {
          let fetchCard = await axios.get(`https://api2.splinterlands.com/market/rental_history?player=` + state.account2[i].ingameName)
          let decEcr = await axios.get(`https://api2.splinterlands.com/players/balances?username=` + state.account2[i].ingameName)
          let countCard = await axios.get(`https://api2.splinterlands.com/cards/collection/` + state.account2[i].ingameName)
          var card
          var power
          var dec
          var ecr
          var count
          if(fetchCard.status == 200) {

              if(fetchCard.data.length > 0) {
                  card = fetchCard.data.find((value) => {
                      return value.status == 1
                  })
                  if(card == undefined) {
                      card = []
                  }
              } else {
                  card = []
              }
          }
          if(decEcr.status == 200) {
            dec = decEcr.data[0].balance
            ecr = decEcr.data[5].balance
          }
          if(countCard.status == 200) {
            count = countCard.data.cards.length
          }
          commit('SETCARDUSER2', {
              ingame: state.account2[i],
              card: card,
              dec:dec,
              power:power,
              ecr:ecr,
              count:count
          })
        }
  }
  }
  
  // mutations
  const mutations = {
    SETCARDUSER (state, {...arrData}) {
      let data = arrData
      state.userCards.push(data)
    },
    SETCARDUSER2 (state, {...arrData}) {
        let data = arrData
        state.userCards2.push(data)
      }
  }
  
  export default {
    namespaced: true,
    state,
    getters,
    actions,
    mutations
  }
  